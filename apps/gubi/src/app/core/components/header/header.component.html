<div class="flex items-center justify-between mx-4 py-2 border-b border-[#64748b]">
  @if(isMobile()) {
    <a class="cursor-pointer w-8" [routerLink]="'/spaces'" aria-label="Ir para Espaços">
      <img src="gb_logo.svg" alt="Gubi" class="logo w-full" />
    </a>
    <p-button icon="pi pi-bars" [text]="true" aria-label="Abrir menu" severity="secondary" (click)="openMobileSidebar()"></p-button>
  } @else {
    <p-breadcrumb class="max-w-full transparent-breadcrumb" [model]="visibleCrumbItems" [home]="home" aria-label="Navegação" />
  <div
    class="cursor-pointer hover:bg-opacity-45 transition-colors duration-200"
    tabindex="0"
    role="button"
    aria-label="Menu do usuário"
    aria-haspopup="true"
    (click)="menu.toggle($event)"
    (keydown.enter)="menu.toggle($event)"
    (keydown.space)="menu.toggle($event)"
  >
    <app-user-avatar [name]="authService.currentUserEmail" [image]="authService.currentUserPicture" [size]="'large'"></app-user-avatar>
  </div>
  }
</div>

<p-menu #menu [popup]="true" styleClass="px-2" appendTo="body">
  <ng-template #start>
    <div class="flex flex-col text-left text-gray-500 w-full py-1">
      <span class="font-semibold">{{authService.currentUserName}}</span>
      <span class="text-xs">{{authService.currentUserEmail}}</span>
    </div>
  </ng-template>
  <ng-template #end>
    <div class="border-t border-gray-300 w-full py-1">
      <p-button label="Sair" icon="pi pi-sign-out" styleClass="w-full !justify-start" text severity="secondary" aria-label="Sair do Gubi" (click)="authService.logout()"></p-button>
    </div>
  </ng-template>
</p-menu>
